# Landing blocks / CMS-ready –≤–µ—Ä—Å—Ç–∫–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ **–±–ª–æ—á–Ω–æ–π –≤–µ—Ä—Å—Ç–∫–∏**, –∫–æ—Ç–æ—Ä–∞—è:

- —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —Å —É–¥–æ–±–Ω—ã–º dev-–æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
- –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è **–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä—è–º–æ –Ω–∞ –±–æ–µ–≤–æ–º —Å–∞–π—Ç–µ** —á–µ—Ä–µ–∑ Tampermonkey
- —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ **CMS-–≥–æ—Ç–æ–≤—ã–µ HTML-—Ñ–∞–π–ª—ã**
- –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ CMS

---

## –ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

üî• **Realtime-–≤–µ—Ä—Å—Ç–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ —á–µ—Ä–µ–∑ Tampermonkey**

–ë–ª–∞–≥–æ–¥–∞—Ä—è —Å–≤—è–∑–∫–µ **Vite + vite-plugin-monkey + Tampermonkey**:

- –≤–µ—Ä—Å—Ç–∫–∞ –∏–Ω–∂–µ–∫—Ç–∏—Ç—Å—è **–Ω–µ –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π localhost**, –∞ **–ø—Ä—è–º–æ –≤ —Ä–µ–∞–ª—å–Ω—ã–π —Å–∞–π—Ç**
- –∏–∑–º–µ–Ω–µ–Ω–∏—è HTML / CSS / JS –≤–∏–¥–Ω—ã **—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞**
- –º–æ–∂–Ω–æ –≤–µ—Ä—Å—Ç–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ **–≤ —Ä–µ–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Å–∞–π—Ç–∞**
- –Ω–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å CMS, –¥–µ–ø–ª–æ–π –∏–ª–∏ —Å–±–æ—Ä–∫—É

üëâ –≠—Ç–æ —Å–∏–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –≤–µ—Ä—Å—Ç–∫—É –∏ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–≥–æ–≤.

---

## –û–±—â–∞—è –∏–¥–µ—è

- **`src/order.json`** ‚Äî –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ—Ä—è–¥–∫–∞ –±–ª–æ–∫–æ–≤
- –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∫–ª—é—á–æ–º (`hero`, `welcome`, `test`)
- –±–ª–æ–∫ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑:
    - —Ä–∞–∑–º–µ—Ç–∫–∏ (`markup`)
    - —Å—Ç–∏–ª–µ–π (`styles`)
    - —Å–∫—Ä–∏–ø—Ç–æ–≤ (`scripts`)
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç–∏–ª–µ–π –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ ‚Äî **–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –∏ –æ–∂–∏–¥–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```txt
src/
  order.json

  markup/
    hero.html
    welcome.html

  styles/
    hero.css
    welcome.css

  scripts/
    hero.js
    welcome.js

@CMS/
  hero.html
  welcome.html
```

---

## order.json

`src/order.json` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–ø–æ—Ä—è–¥–æ–∫ –±–ª–æ–∫–æ–≤**:

```json
{
  "blocks": [
    "hero",
    "welcome",
    "test"
  ]
}
```

‚ö†Ô∏è –í `blocks` —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **–∫–ª—é—á–∏ –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π**.

–ü–æ –∫–ª—é—á—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â—É—Ç—Å—è —Ñ–∞–π–ª—ã:

- `markup/<key>.html`
- `styles/<key>.css`
- `scripts/<key>.js`

---

## –†–∞–∑–º–µ—Ç–∫–∞ (markup)

üìÅ `src/markup/<key>.html`

- –æ–±—ã—á–Ω—ã–π HTML
- **–±–µ–∑ –æ–±–µ—Ä—Ç–æ–∫**
- **–±–µ–∑ —Å–ª—É–∂–µ–±–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤**
- –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ CMS **–∫–∞–∫ –µ—Å—Ç—å**

–ü—Ä–∏–º–µ—Ä:

```html

<section class="hero" id="test">
    <h1>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h1>
</section>
```

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç ‚Äî –±–ª–æ–∫ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

---

## –°—Ç–∏–ª–∏ (styles)

üìÅ `src/styles/<key>.css`

- –æ–±—ã—á–Ω—ã–π CSS
- –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostCSS / –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã —á–µ—Ä–µ–∑ Vite
- –ø—Ä–∏ CMS-—Å–±–æ—Ä–∫–µ:
    - CSS –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è
    - –∏–Ω–ª–∞–π–Ω–∏—Ç—Å—è –≤ `<style>`

–ü—Ä–∏–º–µ—Ä:

```css
.hero {
    padding: 40px;
}
```

–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç ‚Äî —Å—Ç–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

---

## –°–∫—Ä–∏–ø—Ç—ã (scripts)

üìÅ `src/scripts/<key>.js`

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–ö–∞–∂–¥—ã–π —Å–∫—Ä–∏–ø—Ç **—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç default-—Ñ—É–Ω–∫—Ü–∏—é**  
–∏ –æ–±—è–∑–∞–Ω –±—ã—Ç—å **defensive**.

```js
export default function init() {
  const host = document.querySelector("#test");
  if (!host) return;

  const el = document.createElement("span");
  el.textContent = "–¢–µ–∫—Å—Ç –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞";
  host.appendChild(el);
}
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ

- **dev**:
    - —Ä–∞–∑–º–µ—Ç–∫–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ DOM
    - –∑–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `init()`

- **CMS build**:
    - `init()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `<script>`
    - –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ HTML

‚ùå –ù–ï –Ω—É–∂–Ω–æ:

- IIFE –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–æ–≤
- `DOMContentLoaded`
- –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –∏–ª–∏ –æ–±–µ—Ä—Ç–∫–∞–º
- –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–∞–π–¥-—ç—Ñ—Ñ–µ–∫—Ç—ã

---

## Dev-—Ä–µ–∂–∏–º (Realtime –Ω–∞ —Å–∞–π—Ç–µ)

```bash
npm run dev
```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

- –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Vite dev server
- –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è `vite-plugin-monkey`
- Tampermonkey-—Å–∫—Ä–∏–ø—Ç –∏–Ω–∂–µ–∫—Ç–∏—Ç —Å–±–æ—Ä–∫—É **–ø—Ä—è–º–æ –≤ —Å–∞–π—Ç**
- –∏–∑–º–µ–Ω–µ–Ω–∏—è HTML / CSS / JS –≤–∏–¥–Ω—ã **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ**
- –º–æ–∂–Ω–æ –≤–µ—Ä—Å—Ç–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ **–≤ —Ä–µ–∞–ª—å–Ω–æ–º DOM —Å–∞–π—Ç–∞**

‚ö†Ô∏è `vite-plugin-monkey` —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –≤ dev-—Ä–µ–∂–∏–º–µ**  
–∏ **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ production build**.

---

## CMS build

```bash
npm run build:cms
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

- —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–∞–ø–∫–∞ `@CMS`
- –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –∏–∑ `order.json` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π HTML-—Ñ–∞–π–ª

–§–æ—Ä–º–∞—Ç –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞:

```html

<style>
    /* –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CSS */
</style>

<!-- HTML –±–ª–æ–∫–∞ -->

<script>
    /* –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JS */
</script>
```

–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª:

- –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–µ–Ω
- –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –≥–æ—Ç–æ–≤ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ CMS

---

## –ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º

‚úî –±–ª–æ–∫ –±–µ–∑ —Å—Ç–∏–ª–µ–π  
‚úî –±–ª–æ–∫ –±–µ–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤  
‚úî –±–ª–æ–∫ —Ç–æ–ª—å–∫–æ —Å HTML  
‚úî –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞ –≤ `order.json` –±–µ–∑ JS –∏–ª–∏ CSS  
‚úî defensive-–ª–æ–≥–∏–∫–∞ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö

---

## –ß—Ç–æ –ù–ï –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è

‚ùå —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ `order.json`  
‚ùå IIFE –≤–Ω—É—Ç—Ä–∏ `scripts/*.js`  
‚ùå –ª–æ–≥–∏–∫–∞, –∑–∞–≤–∏—Å—è—â–∞—è –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤  
‚ùå –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç dev-–æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ CMS  
‚ùå –æ–±–µ—Ä—Ç–∫–∏ –∏ —Å–ª—É–∂–µ–±–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –≤ —Ä–∞–∑–º–µ—Ç–∫–µ

---

## –ß–µ–∫–ª–∏—Å—Ç –≤–µ—Ä—Å—Ç–∫–∏ –±–ª–æ–∫–∞

1. –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á –≤ `src/order.json`
2. –°–æ–∑–¥–∞—Ç—å `markup/<key>.html`
3. (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ–∑–¥–∞—Ç—å `styles/<key>.css`
4. (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Å–æ–∑–¥–∞—Ç—å `scripts/<key>.js` —Å `export default function`
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ `npm run dev` (–Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ)
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç `npm run build:cms`
